<% cache(@tanda) do %>
  <% content_for :meta_tags do %>
    <meta property="og:title" content="<%= @tanda.title %>">
    <meta property="og:description" content="Explore this tanda featuring selected recordings.">
    <% if @tanda.image.attached? %>
      <meta property="og:image" content="<%= url_for(@tanda.image) %>">
    <% end %>
    <meta property="og:type" content="music.playlist">
    <meta property="og:url" content="<%= tanda_url(@tanda) %>">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= @tanda.title %>">
    <meta name="twitter:description" content="Explore this tanda featuring selected recordings.">
    <% if @tanda.image.attached? %>
      <meta name="twitter:image" content="<%= url_for(@tanda.image) %>">
    <% end %>
  <% end %>
  <div class="relative flex flex-col p-6 gap-8 items-center dark:bg-black">
    <%= link_to music_library_path, class: "absolute left-4 top-6 flex items-center gap-2 p-2 rounded-full bg-neutral-200 text-sm text-neutral-700 dark:bg-neutral-800 dark:text-neutral-400 hover:bg-neutral-300 dark:hover:bg-neutral-700" do %>
      <%= heroicon "chevron-left", size: :sm, class: "text-neutral-500 dark:text-neutral-400" %>
    <% end %>
    <% if @tanda.image.attached? %>
      <%= image_tag @tanda.image, class: "w-64 h-64 md:w-24 md:h-24 rounded-lg object-cover shadow-md" %>
    <% end %>
    <h1><%= @tanda.title %></h1>
    <%= button_to 'Add to Library', add_to_library_tanda_path(@tanda), method: :post, class: "btn btn-primary" %>
    <div class="flex flex-col gap-2">
      <%= render collection: @recordings, partial: "recording_form", locals: { tanda: @tanda }, as: :recording %>
    </div>
  </div>
<% end %>
