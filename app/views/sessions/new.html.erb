<%= turbo_frame_tag "new-session", class: "form-container" do %>
  <div class="form-wrapper">
    <div>
      <%= inline_svg_tag("logos/tangocloud-logo-with-text.svg", class: "form-header") %>
    </div>
    <%= form_with(url: sign_in_path, local: true) do |form| %>
      <div class="h-6">
        <% if @session&.errors&.any? %>
          <% @session.errors.full_messages.each do |message| %>
            <p class="form-error"><%= message %></p>
          <% end %>
        <% end %>
      </div>
      <div class="form-body">
        <div class="form-input-group">
          <div class="form-group">
            <%= form.label :email, "Email address", class: "label", for: "email-address" %>
            <%= form.email_field :email, id: "email-address", value: params[:email_hint], required: true, autofocus: true, autocomplete: "email", class: "input" %>
          </div>

          <div class="form-group">
            <%= form.label :password, class: "label", for: "password" %>
            <%= form.password_field :password, required: true, autocomplete: "current-password", class: "input" %>
          </div>
        </div>

        <div class="actions">
          <%= form.submit "Sign in to account", class: "button" %>
        </div>

        <div class="form-footer">
          <%= link_to "Forgot your password?", new_identity_password_reset_path, class: "link", data: { turbo_frame: "modal" } %>
          <%= link_to "Don't have an account?", sign_up_path, class: "link", data: { turbo_frame: "modal" } %>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
